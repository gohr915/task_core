@model POSTest.ViewModel.ItemSizeVM


<div class="modal-content">
    <div class="modal-header">
        <h6 class="modal-title">Add new item</h6>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <i class="ti-close"></i>
        </button>
    </div>
    <div id="frmItem">

        @{

            //List<POSTest.NewFolder.Size> sizes = new List<POSTest.NewFolder.Size>();
            //Model.Sizes.Add(new NewFolder.Size{ Name="",Price=0});
            int count = 0;

        }
        <form asp-action="CreateEdit" asp-controller="Home" method="post" enctype="multipart/form-data">

            <div class="modal-body form-horizontal">
                <div class="row">
                    <div class="col-12">
                        <div class="form-group">
                            <label>Item Name</label>
                            <input type="text" asp-for="@Model.Name" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="form-group">
                            <label>Price</label>
                            <input type="text" asp-for="@Model.Price" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="form-group">
                            <label>Picture</label>
                            <input type="file" palceholder="Select image" asp-for="@Model.ItemImage" class="form-control" />
                        </div>
                    </div>
                </div>

                <div class="row" for="sizes">

                    @if (Model.Sizes != null && Model.Sizes.Count > 0)
                    {
                        <div class="col-5">
                            <div class="form-group">
                                <label>Size Name</label>
                                <input type="text" name="Sizes[0].Name" id="Sizes[0].Name" value="@Model.Sizes[0].Name" class="form-control add-name" />
                            </div>
                        </div>
                        <div class="col-5">
                            <div class="form-group">
                                <label>Size Price</label>
                                <input type="text" name="Sizes[0].Price" value="@Model.Sizes[0].Price" class="form-control add-price" />
                            </div>
                        </div>
                        <div class="col-2">
                            <div class="form-group" style="margin-top: 27%;">
                                <a href="Javascript:void(0);" class="btn btn-success add-size">Add</a>
                            </div>
                        </div>
                        int c = 0;
                        @foreach (var item in Model.Sizes)
                        {
                            @if (c == 0)
                            {
                                c = c + 1;
                            }
                            else
                            {

                                <div class="col-5">
                                    <div class="form-group">
                                        <label>Size Name</label>
                                        <input type="text" name="Sizes['@c'].Name" id="Sizes['@c'].Name" value="@Model.Sizes[@c].Name" class="form-control add-name" />
                                    </div>
                                </div>
                                <div class="col-5">
                                    <div class="form-group">
                                        <label>Size Price</label>
                                        <input type="text" name="Sizes['@c'].Price" value="@Model.Sizes[@c].Price" class="form-control add-price" />
                                    </div>
                                </div>
                                <div class="col-2">
                                    <div class="form-group" style="margin-top: 27%;">
                                        <a href="Javascript:void(0);" class="btn btn-danger remove-size">remove</a>
                                    </div>
                                </div>

                            }

                        }

                    }
                    else
                    {

                        <div class="col-5">
                            <div class="form-group">
                                <label>Size Name</label>
                                <input type="text" name="Sizes[0].Name" id="Sizes[0].Name" value="" class="form-control add-name" />
                            </div>
                        </div>
                        <div class="col-5">
                            <div class="form-group">
                                <label>Size Price</label>
                                <input type="text" name="Sizes[0].Price" value="0" class="form-control add-price" />
                            </div>
                        </div>
                        <div class="col-2">
                            <div class="form-group" style="margin-top: 27%;">
                                <a href="Javascript:void(0);" class="btn btn-success add-size">Add</a>
                            </div>
                        </div>

                    }
                </div>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">
                    Close
                </button>
                <button type="submit" id="btnSaveHours" class="btn btn-primary" title="Save">Save</button>
            </div>

        </form>
    </div>
</div>



@*<script "text/javascript">

        $(document).on('click', '.add-size', function () {



                console.log("hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh");



               var counting = @count + 1;

               var size = $('div[for="sizes"]:first').clone();
                size.

                size.find('.add-size').addClass('remove-size');
                size.find('.add-size').addClass('btn-danger');
                size.find('.add-size').text('Remove');
            size.find('.add-size').removeClass('add-size');
            size.find('.add-name').attr({ id: "Sizes[" + count + "].Name", name: "Sizes[" + counting + "].Name", value: "" });
                size.find('.add-price').attr({ id: "Sizes[" + count + "].Price", name: "Sizes[" +counting + "].Price", value:"0"});
                $('#frmItem .modal-body').append(size);
            });

            $(document).on('click', '.remove-size', function () {
                $(this).closest('div[for="sizes"]').remove();
            });

    </script>*@

<script src="~/vendors/bundle.js"></script>

<!-- Range slider -->
<script src="~/vendors/range-slider/js/ion.rangeSlider.min.js"></script>

<script src="~/assets/js/examples/pages/product-list.js"></script>

<!-- App scripts -->
<script src="~/assets/js/app.min.js"></script>

<script type="text/javascript">
         $(document).on('click', '.add-size', function () {



            



           var counting = @count + 1;

           var size = $('div[for="sizes"]:first').clone();


             size.find('.add-size').addClass('remove-size');
            size.find('.add-size').addClass('btn-danger');
            size.find('.add-size').text('Remove');
        size.find('.add-size').removeClass('add-size');
        size.find('.add-name').attr({ id: 'Sizes['+counting+'].Name', name: 'Sizes['+ counting +'].Name', value: '' });
            size.find('.add-price').attr({ id: 'Sizes['+counting +'].Price', name: 'Sizes[' +counting + '].Price', value:'0'});
            $('#frmItem .modal-body').append(size);
        });

        $(document).on('click', '.remove-size', function () {
            $(this).closest('div[for="sizes"]').remove();
        });
</script>
